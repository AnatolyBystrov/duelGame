{"ast":null,"code":"var _jsxFileName = \"/Users/anatoliybystrov/Desktop/DuelGame/src/components/Canvas.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Canvas = ({\n  draw,\n  onClick,\n  onMouseMove\n}) => {\n  _s();\n  const canvasRef = useRef(null);\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    const context = canvas.getContext('2d');\n    let animationFrameId;\n    const render = () => {\n      draw(context);\n      animationFrameId = requestAnimationFrame(render);\n    };\n    render();\n    const fireBullet = (heroKey, direction) => {\n      const newBullet = {\n        x: heroes[heroKey].x + (direction === 'right' ? heroes[heroKey].radius : -heroes[heroKey].radius),\n        y: heroes[heroKey].y,\n        dx: direction === 'right' ? 5 : -5,\n        color: 'red' // Use a bright color to check visibility\n      };\n      console.log(`Firing bullet from ${heroKey}:`, newBullet);\n      setBullets(prevBullets => ({\n        ...prevBullets,\n        [heroKey]: [...prevBullets[heroKey], newBullet]\n      }));\n    };\n    return () => {\n      cancelAnimationFrame(animationFrameId);\n    };\n  }, [draw]);\n  return /*#__PURE__*/_jsxDEV(\"canvas\", {\n    ref: canvasRef,\n    width: 800,\n    height: 400,\n    style: {\n      border: '1px solid black'\n    },\n    onClick: onClick,\n    onMouseMove: onMouseMove\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n};\n_s(Canvas, \"UJgi7ynoup7eqypjnwyX/s32POg=\");\n_c = Canvas;\nexport default Canvas;\nvar _c;\n$RefreshReg$(_c, \"Canvas\");","map":{"version":3,"names":["React","useRef","useEffect","jsxDEV","_jsxDEV","Canvas","draw","onClick","onMouseMove","_s","canvasRef","canvas","current","context","getContext","animationFrameId","render","requestAnimationFrame","fireBullet","heroKey","direction","newBullet","x","heroes","radius","y","dx","color","console","log","setBullets","prevBullets","cancelAnimationFrame","ref","width","height","style","border","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/anatoliybystrov/Desktop/DuelGame/src/components/Canvas.js"],"sourcesContent":["import React, { useRef, useEffect } from 'react';\n\n\n\nconst Canvas = ({ draw, onClick, onMouseMove }) => {\n  const canvasRef = useRef(null);\n\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    const context = canvas.getContext('2d');\n    let animationFrameId;\n\n    const render = () => {\n      draw(context);\n      animationFrameId = requestAnimationFrame(render);\n    };\n\n    render();\n    const fireBullet = (heroKey, direction) => {\n      const newBullet = {\n        x: heroes[heroKey].x + (direction === 'right' ? heroes[heroKey].radius : -heroes[heroKey].radius),\n        y: heroes[heroKey].y,\n        dx: direction === 'right' ? 5 : -5,\n        color: 'red'  // Use a bright color to check visibility\n      };\n    \n      console.log(`Firing bullet from ${heroKey}:`, newBullet);\n    \n      setBullets((prevBullets) => ({\n        ...prevBullets,\n        [heroKey]: [...prevBullets[heroKey], newBullet]\n      }));\n    };\n    \n\n    return () => {\n      cancelAnimationFrame(animationFrameId);\n    };\n  }, [draw]);\n\n  return (\n    <canvas\n      ref={canvasRef}\n      width={800}\n      height={400}\n      style={{ border: '1px solid black' }}\n      onClick={onClick}\n      onMouseMove={onMouseMove}\n    />\n  );\n};\n\nexport default Canvas;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,MAAM,EAAEC,SAAS,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAIjD,MAAMC,MAAM,GAAGA,CAAC;EAAEC,IAAI;EAAEC,OAAO;EAAEC;AAAY,CAAC,KAAK;EAAAC,EAAA;EACjD,MAAMC,SAAS,GAAGT,MAAM,CAAC,IAAI,CAAC;EAE9BC,SAAS,CAAC,MAAM;IACd,MAAMS,MAAM,GAAGD,SAAS,CAACE,OAAO;IAChC,MAAMC,OAAO,GAAGF,MAAM,CAACG,UAAU,CAAC,IAAI,CAAC;IACvC,IAAIC,gBAAgB;IAEpB,MAAMC,MAAM,GAAGA,CAAA,KAAM;MACnBV,IAAI,CAACO,OAAO,CAAC;MACbE,gBAAgB,GAAGE,qBAAqB,CAACD,MAAM,CAAC;IAClD,CAAC;IAEDA,MAAM,CAAC,CAAC;IACR,MAAME,UAAU,GAAGA,CAACC,OAAO,EAAEC,SAAS,KAAK;MACzC,MAAMC,SAAS,GAAG;QAChBC,CAAC,EAAEC,MAAM,CAACJ,OAAO,CAAC,CAACG,CAAC,IAAIF,SAAS,KAAK,OAAO,GAAGG,MAAM,CAACJ,OAAO,CAAC,CAACK,MAAM,GAAG,CAACD,MAAM,CAACJ,OAAO,CAAC,CAACK,MAAM,CAAC;QACjGC,CAAC,EAAEF,MAAM,CAACJ,OAAO,CAAC,CAACM,CAAC;QACpBC,EAAE,EAAEN,SAAS,KAAK,OAAO,GAAG,CAAC,GAAG,CAAC,CAAC;QAClCO,KAAK,EAAE,KAAK,CAAE;MAChB,CAAC;MAEDC,OAAO,CAACC,GAAG,CAAC,sBAAsBV,OAAO,GAAG,EAAEE,SAAS,CAAC;MAExDS,UAAU,CAAEC,WAAW,KAAM;QAC3B,GAAGA,WAAW;QACd,CAACZ,OAAO,GAAG,CAAC,GAAGY,WAAW,CAACZ,OAAO,CAAC,EAAEE,SAAS;MAChD,CAAC,CAAC,CAAC;IACL,CAAC;IAGD,OAAO,MAAM;MACXW,oBAAoB,CAACjB,gBAAgB,CAAC;IACxC,CAAC;EACH,CAAC,EAAE,CAACT,IAAI,CAAC,CAAC;EAEV,oBACEF,OAAA;IACE6B,GAAG,EAAEvB,SAAU;IACfwB,KAAK,EAAE,GAAI;IACXC,MAAM,EAAE,GAAI;IACZC,KAAK,EAAE;MAAEC,MAAM,EAAE;IAAkB,CAAE;IACrC9B,OAAO,EAAEA,OAAQ;IACjBC,WAAW,EAAEA;EAAY;IAAA8B,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAC1B,CAAC;AAEN,CAAC;AAAChC,EAAA,CA9CIJ,MAAM;AAAAqC,EAAA,GAANrC,MAAM;AAgDZ,eAAeA,MAAM;AAAC,IAAAqC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}