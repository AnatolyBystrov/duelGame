{"ast":null,"code":"var _jsxFileName = \"/Users/anatoliybystrov/Desktop/DuelGame/src/App.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport Canvas from './components/Canvas';\nimport useGameLogic from './hooks/useGameLogic';\nimport SettingsPanel from './components/SettingsPanel';\nimport Menu from './components/Menu';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst App = () => {\n  _s();\n  const {\n    heroes,\n    bullets,\n    setHeroes\n  } = useGameLogic();\n  const draw = context => {\n    context.clearRect(0, 0, 800, 400);\n\n    // Draw heroes\n    Object.keys(heroes).forEach(heroKey => {\n      const hero = heroes[heroKey];\n      context.beginPath();\n      context.arc(hero.x, hero.y, hero.radius, 0, Math.PI * 2);\n      context.fillStyle = hero.color;\n      context.fill();\n      context.closePath();\n    });\n\n    // Draw bullets\n    Object.keys(bullets).forEach(bulletKey => {\n      bullets[bulletKey].forEach(bullet => {\n        console.log('Drawing bullet:', bullet); // Check if this logs to console\n\n        context.beginPath();\n        context.arc(bullet.x, bullet.y, 5, 0, Math.PI * 2);\n        context.fillStyle = bullet.color;\n        context.fill();\n        context.closePath();\n      });\n    });\n  };\n  const updateBullets = () => {\n    setBullets(prevBullets => {\n      const newBullets = {\n        ...prevBullets\n      };\n      Object.keys(newBullets).forEach(key => {\n        newBullets[key] = newBullets[key].map(bullet => {\n          bullet.x += bullet.dx; // Move the bullet\n          return bullet;\n        }).filter(bullet => {\n          // Ensure bullets don't disappear prematurely\n          return bullet.x > 0 && bullet.x < 800; // Keep only bullets that are on screen\n        });\n      });\n      return newBullets;\n    });\n  };\n  const fireBullet = (heroKey, direction) => {\n    const newBullet = {\n      x: heroes[heroKey].x + (direction === 'right' ? heroes[heroKey].radius : -heroes[heroKey].radius),\n      y: heroes[heroKey].y,\n      dx: direction === 'right' ? 5 : -5,\n      color: 'red' // Use a bright color to check visibility\n    };\n    console.log(`Firing bullet from ${heroKey}:`, newBullet);\n    setBullets(prevBullets => ({\n      ...prevBullets,\n      [heroKey]: [...prevBullets[heroKey], newBullet]\n    }));\n  };\n  const handleMouseMove = e => {\n    const rect = e.target.getBoundingClientRect();\n    const mouseX = e.clientX - rect.left;\n    const mouseY = e.clientY - rect.top;\n    Object.keys(heroes).forEach(heroKey => {\n      const hero = heroes[heroKey];\n      const distance = Math.sqrt((hero.x - mouseX) ** 2 + (hero.y - mouseY) ** 2);\n      if (distance < hero.radius + 10) {\n        // Adjust hero speed if touched by mouse\n        hero.dy = hero.dy !== 0 ? -hero.dy : 2;\n        setHeroes(prev => ({\n          ...prev,\n          [heroKey]: hero\n        }));\n      }\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Canvas, {\n      draw: draw,\n      onClick: () => {},\n      onMouseMove: handleMouseMove\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(SettingsPanel, {\n      heroConfig: heroes.hero1,\n      onConfigChange: newConfig => {\n        setHeroes(prev => ({\n          ...prev,\n          hero1: {\n            ...prev.hero1,\n            ...newConfig\n          }\n        }));\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(SettingsPanel, {\n      heroConfig: heroes.hero2,\n      onConfigChange: newConfig => {\n        setHeroes(prev => ({\n          ...prev,\n          hero2: {\n            ...prev.hero2,\n            ...newConfig\n          }\n        }));\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Menu, {\n      hero: heroes.hero1,\n      onChangeColor: color => {\n        setHeroes(prev => ({\n          ...prev,\n          hero1: {\n            ...prev.hero1,\n            bulletColor: color\n          }\n        }));\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Menu, {\n      hero: heroes.hero2,\n      onChangeColor: color => {\n        setHeroes(prev => ({\n          ...prev,\n          hero2: {\n            ...prev.hero2,\n            bulletColor: color\n          }\n        }));\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 89,\n    columnNumber: 5\n  }, this);\n};\n_s(App, \"lpsX5+xsgfjtH170EgimgXGVAME=\", false, function () {\n  return [useGameLogic];\n});\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","Canvas","useGameLogic","SettingsPanel","Menu","jsxDEV","_jsxDEV","App","_s","heroes","bullets","setHeroes","draw","context","clearRect","Object","keys","forEach","heroKey","hero","beginPath","arc","x","y","radius","Math","PI","fillStyle","color","fill","closePath","bulletKey","bullet","console","log","updateBullets","setBullets","prevBullets","newBullets","key","map","dx","filter","fireBullet","direction","newBullet","handleMouseMove","e","rect","target","getBoundingClientRect","mouseX","clientX","left","mouseY","clientY","top","distance","sqrt","dy","prev","children","onClick","onMouseMove","fileName","_jsxFileName","lineNumber","columnNumber","heroConfig","hero1","onConfigChange","newConfig","hero2","onChangeColor","bulletColor","_c","$RefreshReg$"],"sources":["/Users/anatoliybystrov/Desktop/DuelGame/src/App.js"],"sourcesContent":["import React from 'react';\nimport Canvas from './components/Canvas';\nimport useGameLogic from './hooks/useGameLogic';\nimport SettingsPanel from './components/SettingsPanel';\nimport Menu from './components/Menu';\n\nconst App = () => {\n  const { heroes, bullets, setHeroes } = useGameLogic();\n\n  const draw = (context) => {\n    context.clearRect(0, 0, 800, 400);\n  \n    // Draw heroes\n    Object.keys(heroes).forEach((heroKey) => {\n      const hero = heroes[heroKey];\n      context.beginPath();\n      context.arc(hero.x, hero.y, hero.radius, 0, Math.PI * 2);\n      context.fillStyle = hero.color;\n      context.fill();\n      context.closePath();\n    });\n  \n    // Draw bullets\n    Object.keys(bullets).forEach((bulletKey) => {\n      bullets[bulletKey].forEach((bullet) => {\n        console.log('Drawing bullet:', bullet);  // Check if this logs to console\n        \n        context.beginPath();\n        context.arc(bullet.x, bullet.y, 5, 0, Math.PI * 2);\n        context.fillStyle = bullet.color;\n        context.fill();\n        context.closePath();\n      });\n    });\n  };\n\n  const updateBullets = () => {\n    setBullets((prevBullets) => {\n      const newBullets = { ...prevBullets };\n      Object.keys(newBullets).forEach((key) => {\n        newBullets[key] = newBullets[key].map((bullet) => {\n          bullet.x += bullet.dx;  // Move the bullet\n          return bullet;\n        }).filter((bullet) => {\n          // Ensure bullets don't disappear prematurely\n          return bullet.x > 0 && bullet.x < 800;  // Keep only bullets that are on screen\n        });\n      });\n      return newBullets;\n    });\n  };\n  \n  \n  const fireBullet = (heroKey, direction) => {\n    const newBullet = {\n      x: heroes[heroKey].x + (direction === 'right' ? heroes[heroKey].radius : -heroes[heroKey].radius),\n      y: heroes[heroKey].y,\n      dx: direction === 'right' ? 5 : -5,\n      color: 'red'  // Use a bright color to check visibility\n    };\n  \n    console.log(`Firing bullet from ${heroKey}:`, newBullet);\n  \n    setBullets((prevBullets) => ({\n      ...prevBullets,\n      [heroKey]: [...prevBullets[heroKey], newBullet]\n    }));\n  };\n  \n\n  const handleMouseMove = (e) => {\n    const rect = e.target.getBoundingClientRect();\n    const mouseX = e.clientX - rect.left;\n    const mouseY = e.clientY - rect.top;\n\n    Object.keys(heroes).forEach((heroKey) => {\n      const hero = heroes[heroKey];\n      const distance = Math.sqrt((hero.x - mouseX) ** 2 + (hero.y - mouseY) ** 2);\n\n      if (distance < hero.radius + 10) {\n        // Adjust hero speed if touched by mouse\n        hero.dy = hero.dy !== 0 ? -hero.dy : 2;\n        setHeroes((prev) => ({ ...prev, [heroKey]: hero }));\n      }\n    });\n  };\n\n  return (\n    <div>\n      <Canvas draw={draw} onClick={() => {}} onMouseMove={handleMouseMove} />\n      <SettingsPanel heroConfig={heroes.hero1} onConfigChange={(newConfig) => {\n        setHeroes((prev) => ({ ...prev, hero1: { ...prev.hero1, ...newConfig } }));\n      }} />\n      <SettingsPanel heroConfig={heroes.hero2} onConfigChange={(newConfig) => {\n        setHeroes((prev) => ({ ...prev, hero2: { ...prev.hero2, ...newConfig } }));\n      }} />\n      <Menu hero={heroes.hero1} onChangeColor={(color) => {\n        setHeroes((prev) => ({ ...prev, hero1: { ...prev.hero1, bulletColor: color } }));\n      }} />\n      <Menu hero={heroes.hero2} onChangeColor={(color) => {\n        setHeroes((prev) => ({ ...prev, hero2: { ...prev.hero2, bulletColor: color } }));\n      }} />\n    </div>\n  );\n};\n\nexport default App;\n"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,MAAM,MAAM,qBAAqB;AACxC,OAAOC,YAAY,MAAM,sBAAsB;AAC/C,OAAOC,aAAa,MAAM,4BAA4B;AACtD,OAAOC,IAAI,MAAM,mBAAmB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAErC,MAAMC,GAAG,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAChB,MAAM;IAAEC,MAAM;IAAEC,OAAO;IAAEC;EAAU,CAAC,GAAGT,YAAY,CAAC,CAAC;EAErD,MAAMU,IAAI,GAAIC,OAAO,IAAK;IACxBA,OAAO,CAACC,SAAS,CAAC,CAAC,EAAE,CAAC,EAAE,GAAG,EAAE,GAAG,CAAC;;IAEjC;IACAC,MAAM,CAACC,IAAI,CAACP,MAAM,CAAC,CAACQ,OAAO,CAAEC,OAAO,IAAK;MACvC,MAAMC,IAAI,GAAGV,MAAM,CAACS,OAAO,CAAC;MAC5BL,OAAO,CAACO,SAAS,CAAC,CAAC;MACnBP,OAAO,CAACQ,GAAG,CAACF,IAAI,CAACG,CAAC,EAAEH,IAAI,CAACI,CAAC,EAAEJ,IAAI,CAACK,MAAM,EAAE,CAAC,EAAEC,IAAI,CAACC,EAAE,GAAG,CAAC,CAAC;MACxDb,OAAO,CAACc,SAAS,GAAGR,IAAI,CAACS,KAAK;MAC9Bf,OAAO,CAACgB,IAAI,CAAC,CAAC;MACdhB,OAAO,CAACiB,SAAS,CAAC,CAAC;IACrB,CAAC,CAAC;;IAEF;IACAf,MAAM,CAACC,IAAI,CAACN,OAAO,CAAC,CAACO,OAAO,CAAEc,SAAS,IAAK;MAC1CrB,OAAO,CAACqB,SAAS,CAAC,CAACd,OAAO,CAAEe,MAAM,IAAK;QACrCC,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAEF,MAAM,CAAC,CAAC,CAAE;;QAEzCnB,OAAO,CAACO,SAAS,CAAC,CAAC;QACnBP,OAAO,CAACQ,GAAG,CAACW,MAAM,CAACV,CAAC,EAAEU,MAAM,CAACT,CAAC,EAAE,CAAC,EAAE,CAAC,EAAEE,IAAI,CAACC,EAAE,GAAG,CAAC,CAAC;QAClDb,OAAO,CAACc,SAAS,GAAGK,MAAM,CAACJ,KAAK;QAChCf,OAAO,CAACgB,IAAI,CAAC,CAAC;QACdhB,OAAO,CAACiB,SAAS,CAAC,CAAC;MACrB,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ,CAAC;EAED,MAAMK,aAAa,GAAGA,CAAA,KAAM;IAC1BC,UAAU,CAAEC,WAAW,IAAK;MAC1B,MAAMC,UAAU,GAAG;QAAE,GAAGD;MAAY,CAAC;MACrCtB,MAAM,CAACC,IAAI,CAACsB,UAAU,CAAC,CAACrB,OAAO,CAAEsB,GAAG,IAAK;QACvCD,UAAU,CAACC,GAAG,CAAC,GAAGD,UAAU,CAACC,GAAG,CAAC,CAACC,GAAG,CAAER,MAAM,IAAK;UAChDA,MAAM,CAACV,CAAC,IAAIU,MAAM,CAACS,EAAE,CAAC,CAAE;UACxB,OAAOT,MAAM;QACf,CAAC,CAAC,CAACU,MAAM,CAAEV,MAAM,IAAK;UACpB;UACA,OAAOA,MAAM,CAACV,CAAC,GAAG,CAAC,IAAIU,MAAM,CAACV,CAAC,GAAG,GAAG,CAAC,CAAE;QAC1C,CAAC,CAAC;MACJ,CAAC,CAAC;MACF,OAAOgB,UAAU;IACnB,CAAC,CAAC;EACJ,CAAC;EAGD,MAAMK,UAAU,GAAGA,CAACzB,OAAO,EAAE0B,SAAS,KAAK;IACzC,MAAMC,SAAS,GAAG;MAChBvB,CAAC,EAAEb,MAAM,CAACS,OAAO,CAAC,CAACI,CAAC,IAAIsB,SAAS,KAAK,OAAO,GAAGnC,MAAM,CAACS,OAAO,CAAC,CAACM,MAAM,GAAG,CAACf,MAAM,CAACS,OAAO,CAAC,CAACM,MAAM,CAAC;MACjGD,CAAC,EAAEd,MAAM,CAACS,OAAO,CAAC,CAACK,CAAC;MACpBkB,EAAE,EAAEG,SAAS,KAAK,OAAO,GAAG,CAAC,GAAG,CAAC,CAAC;MAClChB,KAAK,EAAE,KAAK,CAAE;IAChB,CAAC;IAEDK,OAAO,CAACC,GAAG,CAAC,sBAAsBhB,OAAO,GAAG,EAAE2B,SAAS,CAAC;IAExDT,UAAU,CAAEC,WAAW,KAAM;MAC3B,GAAGA,WAAW;MACd,CAACnB,OAAO,GAAG,CAAC,GAAGmB,WAAW,CAACnB,OAAO,CAAC,EAAE2B,SAAS;IAChD,CAAC,CAAC,CAAC;EACL,CAAC;EAGD,MAAMC,eAAe,GAAIC,CAAC,IAAK;IAC7B,MAAMC,IAAI,GAAGD,CAAC,CAACE,MAAM,CAACC,qBAAqB,CAAC,CAAC;IAC7C,MAAMC,MAAM,GAAGJ,CAAC,CAACK,OAAO,GAAGJ,IAAI,CAACK,IAAI;IACpC,MAAMC,MAAM,GAAGP,CAAC,CAACQ,OAAO,GAAGP,IAAI,CAACQ,GAAG;IAEnCzC,MAAM,CAACC,IAAI,CAACP,MAAM,CAAC,CAACQ,OAAO,CAAEC,OAAO,IAAK;MACvC,MAAMC,IAAI,GAAGV,MAAM,CAACS,OAAO,CAAC;MAC5B,MAAMuC,QAAQ,GAAGhC,IAAI,CAACiC,IAAI,CAAC,CAACvC,IAAI,CAACG,CAAC,GAAG6B,MAAM,KAAK,CAAC,GAAG,CAAChC,IAAI,CAACI,CAAC,GAAG+B,MAAM,KAAK,CAAC,CAAC;MAE3E,IAAIG,QAAQ,GAAGtC,IAAI,CAACK,MAAM,GAAG,EAAE,EAAE;QAC/B;QACAL,IAAI,CAACwC,EAAE,GAAGxC,IAAI,CAACwC,EAAE,KAAK,CAAC,GAAG,CAACxC,IAAI,CAACwC,EAAE,GAAG,CAAC;QACtChD,SAAS,CAAEiD,IAAI,KAAM;UAAE,GAAGA,IAAI;UAAE,CAAC1C,OAAO,GAAGC;QAAK,CAAC,CAAC,CAAC;MACrD;IACF,CAAC,CAAC;EACJ,CAAC;EAED,oBACEb,OAAA;IAAAuD,QAAA,gBACEvD,OAAA,CAACL,MAAM;MAACW,IAAI,EAAEA,IAAK;MAACkD,OAAO,EAAEA,CAAA,KAAM,CAAC,CAAE;MAACC,WAAW,EAAEjB;IAAgB;MAAAkB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eACvE7D,OAAA,CAACH,aAAa;MAACiE,UAAU,EAAE3D,MAAM,CAAC4D,KAAM;MAACC,cAAc,EAAGC,SAAS,IAAK;QACtE5D,SAAS,CAAEiD,IAAI,KAAM;UAAE,GAAGA,IAAI;UAAES,KAAK,EAAE;YAAE,GAAGT,IAAI,CAACS,KAAK;YAAE,GAAGE;UAAU;QAAE,CAAC,CAAC,CAAC;MAC5E;IAAE;MAAAP,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eACL7D,OAAA,CAACH,aAAa;MAACiE,UAAU,EAAE3D,MAAM,CAAC+D,KAAM;MAACF,cAAc,EAAGC,SAAS,IAAK;QACtE5D,SAAS,CAAEiD,IAAI,KAAM;UAAE,GAAGA,IAAI;UAAEY,KAAK,EAAE;YAAE,GAAGZ,IAAI,CAACY,KAAK;YAAE,GAAGD;UAAU;QAAE,CAAC,CAAC,CAAC;MAC5E;IAAE;MAAAP,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eACL7D,OAAA,CAACF,IAAI;MAACe,IAAI,EAAEV,MAAM,CAAC4D,KAAM;MAACI,aAAa,EAAG7C,KAAK,IAAK;QAClDjB,SAAS,CAAEiD,IAAI,KAAM;UAAE,GAAGA,IAAI;UAAES,KAAK,EAAE;YAAE,GAAGT,IAAI,CAACS,KAAK;YAAEK,WAAW,EAAE9C;UAAM;QAAE,CAAC,CAAC,CAAC;MAClF;IAAE;MAAAoC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eACL7D,OAAA,CAACF,IAAI;MAACe,IAAI,EAAEV,MAAM,CAAC+D,KAAM;MAACC,aAAa,EAAG7C,KAAK,IAAK;QAClDjB,SAAS,CAAEiD,IAAI,KAAM;UAAE,GAAGA,IAAI;UAAEY,KAAK,EAAE;YAAE,GAAGZ,IAAI,CAACY,KAAK;YAAEE,WAAW,EAAE9C;UAAM;QAAE,CAAC,CAAC,CAAC;MAClF;IAAE;MAAAoC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACF,CAAC;AAEV,CAAC;AAAC3D,EAAA,CAlGID,GAAG;EAAA,QACgCL,YAAY;AAAA;AAAAyE,EAAA,GAD/CpE,GAAG;AAoGT,eAAeA,GAAG;AAAC,IAAAoE,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}