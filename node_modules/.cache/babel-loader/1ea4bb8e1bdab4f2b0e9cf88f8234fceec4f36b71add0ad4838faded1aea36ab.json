{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport { detectCollision } from '../utils/CollisionDetection';\nconst useGameLogic = () => {\n  _s();\n  const [heroes, setHeroes] = useState({\n    hero1: {\n      x: 30,\n      y: 200,\n      radius: 20,\n      dy: 2,\n      color: 'red'\n    },\n    hero2: {\n      x: 770,\n      y: 200,\n      radius: 20,\n      dy: 2,\n      color: 'blue'\n    }\n  });\n  const [bullets, setBullets] = useState({\n    bullets1: [],\n    bullets2: []\n  });\n  const updateHeroes = () => {\n    setHeroes(prevHeroes => {\n      const newHeroes = {\n        ...prevHeroes\n      };\n      Object.keys(newHeroes).forEach(hero => {\n        newHeroes[hero].y += newHeroes[hero].dy;\n        if (newHeroes[hero].y <= newHeroes[hero].radius || newHeroes[hero].y >= 400 - newHeroes[hero].radius) {\n          newHeroes[hero].dy = -newHeroes[hero].dy;\n        }\n      });\n      return newHeroes;\n    });\n  };\n  const fireBullet = (heroKey, direction) => {\n    setBullets(prevBullets => ({\n      ...prevBullets,\n      [heroKey]: [...prevBullets[heroKey], {\n        x: direction === 'left' ? 750 : 50,\n        y: heroes[heroKey].y,\n        dx: direction === 'left' ? -5 : 5\n      }]\n    }));\n  };\n  const updateBullets = () => {\n    setBullets(prevBullets => {\n      const newBullets = {\n        ...prevBullets\n      };\n      Object.keys(newBullets).forEach(key => {\n        newBullets[key] = newBullets[key].map(bullet => ({\n          ...bullet,\n          x: bullet.x + bullet.dx\n        }));\n        newBullets[key] = newBullets[key].filter(bullet => bullet.x > 0 && bullet.x < 800);\n      });\n      return newBullets;\n    });\n  };\n  useEffect(() => {\n    const intervalId = setInterval(() => {\n      updateHeroes();\n      updateBullets();\n    }, 1000 / 60);\n    return () => clearInterval(intervalId);\n  }, [heroes, bullets]);\n  return {\n    heroes,\n    bullets,\n    fireBullet\n  };\n};\n_s(useGameLogic, \"PHrki4RXgbfwI3cjCwhDrRTvcgE=\");\nexport default useGameLogic;","map":{"version":3,"names":["useState","useEffect","detectCollision","useGameLogic","_s","heroes","setHeroes","hero1","x","y","radius","dy","color","hero2","bullets","setBullets","bullets1","bullets2","updateHeroes","prevHeroes","newHeroes","Object","keys","forEach","hero","fireBullet","heroKey","direction","prevBullets","dx","updateBullets","newBullets","key","map","bullet","filter","intervalId","setInterval","clearInterval"],"sources":["/Users/anatoliybystrov/Desktop/DuelGame/src/hooks/useGameLogic.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { detectCollision } from '../utils/CollisionDetection';\nconst useGameLogic = () => {\n  const [heroes, setHeroes] = useState({\n    hero1: { x: 30, y: 200, radius: 20, dy: 2, color: 'red' },\n    hero2: { x: 770, y: 200, radius: 20, dy: 2, color: 'blue' },\n  });\n\n  const [bullets, setBullets] = useState({ bullets1: [], bullets2: [] });\n\n  const updateHeroes = () => {\n    setHeroes((prevHeroes) => {\n      const newHeroes = { ...prevHeroes };\n      Object.keys(newHeroes).forEach((hero) => {\n        newHeroes[hero].y += newHeroes[hero].dy;\n        if (newHeroes[hero].y <= newHeroes[hero].radius || newHeroes[hero].y >= 400 - newHeroes[hero].radius) {\n          newHeroes[hero].dy = -newHeroes[hero].dy;\n        }\n      });\n      return newHeroes;\n    });\n  };\n\n  const fireBullet = (heroKey, direction) => {\n    setBullets((prevBullets) => ({\n      ...prevBullets,\n      [heroKey]: [...prevBullets[heroKey], { x: direction === 'left' ? 750 : 50, y: heroes[heroKey].y, dx: direction === 'left' ? -5 : 5 }]\n    }));\n  };\n\n  const updateBullets = () => {\n    setBullets((prevBullets) => {\n      const newBullets = { ...prevBullets };\n      Object.keys(newBullets).forEach((key) => {\n        newBullets[key] = newBullets[key].map((bullet) => ({ ...bullet, x: bullet.x + bullet.dx }));\n        newBullets[key] = newBullets[key].filter((bullet) => bullet.x > 0 && bullet.x < 800);\n      });\n      return newBullets;\n    });\n  };\n\n  useEffect(() => {\n    const intervalId = setInterval(() => {\n      updateHeroes();\n      updateBullets();\n    }, 1000 / 60);\n\n    return () => clearInterval(intervalId);\n  }, [heroes, bullets]);\n\n  return { heroes, bullets, fireBullet };\n};\n\nexport default useGameLogic;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}